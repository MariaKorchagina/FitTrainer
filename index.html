<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Anima Project - Automatically generated by Anima</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <style>
      @import url("https://fonts.googleapis.com/css?family=Outfit:500,400,700|Oxanium:800|Anton:400");
    </style>
    <link href="tailwind.css" rel="stylesheet" />
    <link href="tailwind.css" rel="stylesheet" />
    
    <!-- Marquiz script start -->
    <script>
    (function(w, d, s, o){
      var j = d.createElement(s); j.async = true; j.src = '//script.marquiz.ru/v2.js';
      j.onload = function() {
        if (document.readyState !== 'loading') {
          Marquiz.init(o);
        } else {
          document.addEventListener("DOMContentLoaded", function() {
            Marquiz.init(o);
          });
        }
      };
      d.head.insertBefore(j, d.head.firstElementChild);
    })(window, document, 'script', {
        host: '//quiz.marquiz.ru',
        region: 'ru',
        id: '68c07b95528c4c0019cb5f39',
        autoOpen: false,
        autoOpenFreq: 'once',
        openOnExit: false,
        disableOnMobile: false
      }
    );
    </script>
    <!-- Marquiz script end -->
    
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./src/index.tsx"></script>
    
    <!-- Marquiz Widget -->
    <script>
    console.log('HTML: Starting widget initialization...');
    (function(t, p) {
      console.log('HTML: Widget function called, window.Marquiz exists:', !!window.Marquiz);
      if (window.Marquiz) {
        console.log('HTML: Marquiz available, adding widget...');
        try {
          Marquiz.add([t, p]);
          console.log('HTML: Widget added successfully');
        } catch (error) {
          console.error('HTML: Error adding widget:', error);
        }
      } else {
        console.log('HTML: Marquiz not available, waiting for marquizLoaded event...');
        document.addEventListener('marquizLoaded', function() {
          console.log('HTML: marquizLoaded event received, adding widget...');
          try {
            Marquiz.add([t, p]);
            console.log('HTML: Widget added successfully after event');
            
            // Fix widget visibility
            setTimeout(() => {
              const mainWidget = document.querySelector('.marquiz-widget');
              const widgetContainer = document.querySelector('.marquiz-widget__container');
              
              if (mainWidget) {
                console.log('HTML: Fixing widget visibility...');
                mainWidget.style.display = 'block';
                mainWidget.style.visibility = 'visible';
                mainWidget.style.opacity = '1';
                mainWidget.style.zIndex = '9999';
                mainWidget.style.position = 'fixed';
                mainWidget.style.bottom = '20px';
                mainWidget.style.right = '20px';
                
                if (widgetContainer) {
                  widgetContainer.style.display = 'block';
                  widgetContainer.style.visibility = 'visible';
                  widgetContainer.style.opacity = '1';
                }
                console.log('HTML: Widget visibility fixed');
              }
            }, 2000);
          } catch (error) {
            console.error('HTML: Error adding widget after event:', error);
          }
        });
      }
    })('Widget', {
      id: '68c07b95528c4c0019cb5f39', 
      position: 'right', 
      delay: 10, 
      autoOpen: 10, 
      disableOnMobile: false, 
      disableIfClosed: true, 
      gradientEnabled: true, 
      gradientColor: '#303537', 
      gradientIntensity: 40, 
      hiddenArrowOnMobile: false
    });
    </script>
  </body>
</html>
